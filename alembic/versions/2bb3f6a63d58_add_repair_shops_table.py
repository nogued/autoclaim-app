"""add_repair_shops_table

Revision ID: 2bb3f6a63d58
Revises: 1192e9b363d2
Create Date: 2025-11-22 11:29:31.751013

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '2bb3f6a63d58'
down_revision: Union[str, None] = '1192e9b363d2'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('repair_shops',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('is_approved', sa.Boolean(), nullable=False),
    sa.Column('address', sa.String(), nullable=True),
    sa.Column('phone', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_repair_shops_id'), 'repair_shops', ['id'], unique=False)
    
    # Seed repair shops (5 approved, 5 not approved)
    op.execute("""
        INSERT INTO repair_shops (name, is_approved, address, phone) VALUES
        ('Premier Auto Body & Paint', true, '123 Main Street, San Francisco, CA 94102', '(415) 555-0101'),
        ('Elite Collision Center', true, '456 Oak Avenue, Los Angeles, CA 90001', '(213) 555-0202'),
        ('Precision Auto Repair', true, '789 Pine Road, San Diego, CA 92101', '(619) 555-0303'),
        ('Metro Auto Services', true, '321 Elm Boulevard, San Jose, CA 95110', '(408) 555-0404'),
        ('Golden State Auto Works', true, '654 Maple Drive, Oakland, CA 94601', '(510) 555-0505'),
        ('Quick Fix Auto Shop', false, '987 Cedar Lane, Fresno, CA 93701', '(559) 555-0606'),
        ('Budget Auto Repair', false, '147 Birch Street, Sacramento, CA 95814', '(916) 555-0707'),
        ('Corner Auto Service', false, '258 Spruce Avenue, Long Beach, CA 90801', '(562) 555-0808'),
        ('Joe''s Auto Body', false, '369 Willow Way, Anaheim, CA 92801', '(714) 555-0909'),
        ('Discount Auto Fix', false, '741 Ash Court, Santa Ana, CA 92701', '(949) 555-1010');
    """)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_repair_shops_id'), table_name='repair_shops')
    op.drop_table('repair_shops')
    # ### end Alembic commands ###

